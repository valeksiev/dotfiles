Application.controller 'teacher.LibraryCtrl',
['$scope', '$rootScope', '$modal', '$location', 'Account', 'School', 'Application',
( $scope,   $rootScope,   $modal,   $location,   Account,   School,   Application) ->

  $scope.$on '$viewContentLoaded', () ->
    $scope.initialize()

  $scope.initialize = () ->
    Application.all((applications) ->
      $scope.applications = applications
    )

  $scope.addApplication = (application_id) ->
    School.add_application(application_id, (response) ->
      if response.status == 'success'
        
    )
    

#  $scope.addApplicationForm = (application_id) ->
    #$scope.application_id = application_id
    #$scope.modalInstance = $modal.open({
      #templateUrl: 'add-application-form.html',
      #controller: ($scope, $modalInstance, application_id, Group) ->
        #$scope.application_id = application_id

        #$scope.buttons = { ok: false, close: true}
        #$scope.modal_title = 'Select group'

        #$scope.addApplication = (group) ->
          #Group.add_application(group.id, $scope.application_id, (response) ->
            #console.log response
          #)
                
      #,
      #resolve: {
        #application_id: () -> $scope.application_id
      #}
    #})
]
